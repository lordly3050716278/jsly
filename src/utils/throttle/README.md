# throttle 说明文档

`throttle` 是 `jsly` 库中的节流函数模块，用于限制某个函数在一定时间内的执行频率。与防抖不同，节流会按照指定的时间间隔定期执行函数，避免函数在短时间内频繁执行，适用于频繁触发的事件，比如滚动、窗口调整等。

## 功能介绍

节流的核心概念是：通过设定时间间隔，确保某个函数在一定时间内只执行一次。即使事件被多次触发，也只有在时间间隔到达后，才会执行该函数。通过这种方式，节流可以有效减少函数调用的次数，避免性能瓶颈。

## 使用方法

### 安装

### 使用 npm 安装

```bash
npm install jsly
```

### 导入

```javascript
import { throttle } from 'jsly'
```

### 创建节流函数

调用 `throttle` 函数，传入需要节流的目标函数 `fn` 和可选的时间间隔 `duration`（单位：毫秒）。返回一个新的节流函数，只有在每个指定的时间间隔内，才会执行目标函数。

#### 参数

- `fn`（Function）：需要节流的目标函数。
- `duration`（Number，可选）：节流的时间间隔，单位为毫秒，默认为 `200` 毫秒。

#### 返回

返回一个新的节流函数，该函数会按照指定时间间隔执行传入的 `fn` 函数。

#### 示例

```javascript
// 创建一个节流函数，时间间隔为500毫秒
const throttledFunction = throttle(function () {
    console.log('Function executed')
}, 500)

// 触发函数，只有在500毫秒的时间间隔后才会执行
throttledFunction()
throttledFunction()
// 在500毫秒内，只有第一次触发会输出 'Function executed'
```

## 用途

`throttle` 函数非常适用于以下场景：

- **滚动监听**：减少滚动事件的处理次数，避免频繁执行滚动处理函数。
- **窗口大小调整**：减少窗口调整过程中频繁触发的计算。
- **实时搜索**：限制实时搜索请求的频率，减少服务器负担。
- **鼠标或触摸事件**：避免在鼠标拖动或触摸事件中频繁触发某些操作。

## 错误处理

`throttle` 函数本身不会抛出错误，但传入的 `fn` 必须是一个有效的函数。如果传入无效参数，会导致异常。

## 性能优化

`throttle` 函数通过确保在每个时间间隔内执行一次目标函数，避免了频繁调用带来的性能问题，尤其适用于高频触发的事件，如滚动和窗口大小调整。

## 常见问题

### 1. 如何改变节流的时间间隔？

在调用 `throttle` 函数时，可以通过传入第二个参数来设置节流的时间间隔，默认值为 200 毫秒。

```javascript
const throttledFunction = throttle(function () {
    console.log('Function executed')
}, 1000)  // 设置节流时间间隔为1000毫秒
```

### 2. 节流函数能否执行多次？

节流函数会按照设定的时间间隔执行目标函数。如果事件频繁触发，只有在时间间隔到达后，才会执行目标函数。