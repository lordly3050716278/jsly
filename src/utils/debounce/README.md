# debounce 说明文档

`debounce` 是 `jsly` 库中的防抖函数模块，用于限制某个函数在一定时间内的执行频率。通过使用防抖技术，可以避免频繁调用函数，提高性能，尤其是在需要多次触发的场景中，比如输入框实时搜索、窗口大小调整等。

## 功能介绍

防抖函数的核心概念是：当连续触发某个事件时，只有在事件停止触发并等待指定的延迟时间后，才会执行该事件的处理函数。如果事件在延迟时间内再次触发，之前的函数调用会被取消，重新计时。这对于频繁触发的事件，如用户输入、滚动、调整窗口等非常有用。

### 安装

### 使用 npm 安装

```bash
npm install jsly
```

### 导入

```javascript
import { debounce } from 'jsly'
```

### 创建防抖函数

调用 `debounce` 函数，传入需要防抖的目标函数 `fn` 和可选的延迟时间 `delay`（单位：毫秒）。返回一个新的防抖函数，只有在事件停止触发并等待指定延迟后才会执行目标函数。

#### 参数

- `fn`（Function）：需要防抖的目标函数。
- `delay`（Number，可选）：防抖的延迟时间，单位为毫秒，默认为 `200` 毫秒。

#### 返回

返回一个新的防抖函数，该函数会在指定时间内延迟执行传入的 `fn` 函数。

#### 示例

```javascript
// 创建一个防抖函数，延迟300毫秒执行
const debouncedFunction = debounce(function () {
    console.log('Function executed')
}, 300)

// 触发函数，只有在300毫秒没有再次调用时才会执行
debouncedFunction()
debouncedFunction()
// 在300毫秒后只会输出一次 'Function executed'
```

## 用途

`debounce` 函数非常适用于以下场景：

- **输入框实时搜索**：减少在用户输入过程中频繁发起搜索请求。
- **窗口大小调整**：减少在窗口调整过程中频繁触发的计算。
- **滚动监听**：控制滚动事件的频率，避免频繁执行滚动处理函数。
- **按钮点击防抖**：防止按钮被多次点击导致多次提交。

## 错误处理

`debounce` 函数本身不会抛出错误，但传入的 `fn` 必须是一个有效的函数。如果传入无效参数，会导致异常。

## 性能优化

`debounce` 函数通过清除之前的定时器，保证在用户停止触发事件并经过设定的延迟时间后才执行目标函数。这样可以避免频繁调用带来的性能问题，特别是在高频触发的事件中非常有效。

## 常见问题

### 1. 如何改变防抖的延迟时间？

在调用 `debounce` 函数时，可以通过传入第二个参数来设置防抖的延迟时间，默认值为 200 毫秒。

```javascript
const debouncedFunction = debounce(function () {
    console.log('Function executed')
}, 500)  // 设置延迟时间为500毫秒
```

### 2. 防抖函数能否执行多次？

防抖函数会在事件触发后的延迟时间内只执行一次。多次触发时会重置延迟，直到最后一次触发后才执行目标函数。